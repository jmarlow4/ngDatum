<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="src/ngdatum.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.8/angular.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.7.0/underscore-min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
<script src="src/charts.js"></script>
<script src="src/barchart/barchart.js"></script>
<script src="src/donutchart/donutchart.js"></script>
<script src="src/linechart/linechart.js"></script>

<title>Testing ngDatum</title>
</head>
<body>
<div ng-controller="MyController">
    <nd-barchart data="dataSet" labels="{x:'name',y:'age'}" fanciness="stepGrow, tip" size="{width:300, height:200}"></nd-barchart>
    <nd-donutchart data="donutData"></nd-donutchart>
    <nd-linechart data="lineData" labels="{x:'date',y:'close'}" size="{width:500, height:500}"></nd-donutchart>

</div>
</body>


<script>
var app = angular.module('app', ['nd'])
app.controller('MyController', ['$scope', function($scope){
    
    
  
  ///////////////////////////////////////
  //             BARCHART              //
  ///////////////////////////////////////
  $scope.dataSet = [
    {name:'Brian',    age:27 },
    {name:'Bobby',    age:31 },
    {name:'Dan',      age:45 },
    {name:'Hayna',    age:90 },
    {name:'Bertha',   age:100},
    {name:'Charlie',  age:100},
    {name:'Henry',    age:4  },
    {name:'Maredith', age:57 },
    {name:'Bambi',    age:23 },
    {name:'Coco',     age:78 },
    {name:'Zezu',     age:65 },
    {name:'Panko',    age:209}
    
  ];

  ///////////////////////////////////////
  //             DONUTCHART            //
  ///////////////////////////////////////
  $scope.donutData = [
    { label: 'Abulia',     count: 10 }, 
    { label: 'Betelgeuse', count: 20 },
    { label: 'Cantaloupe', count: 30 },
    { label: 'Dijkstra',   count: 40 }
  ];

  ///////////////////////////////////////
  //              LINECHART            //
  ///////////////////////////////////////

  function day(){
    var today = moment().subtract(1, 'year');
    return function(){
        return moment( today.add(1, 'day') );
    };
  }
  nextDay = day();

  function randomClose(){
      return _.random(125, 200);
  }

  function createDataSet(){
      return [
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()},
          {date: nextDay(), close: randomClose()}
      ];
  }
  

  $scope.lineData = createDataSet()


}]);


</script>
</html>